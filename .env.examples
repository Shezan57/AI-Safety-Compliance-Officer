# ===================================================================
# Environment Configuration Examples for Different Video Sources
# ===================================================================
# Copy the appropriate section to your .env file
# ===================================================================

# ===================================================================
# SCENARIO 1: Single Webcam (USB Camera) - Local Development
# ===================================================================
# Best for: Testing on laptop/desktop with USB camera
# Note: Webcam access in Docker works on Linux/Mac only
# ===================================================================

VIDEO_SOURCE=0
CAMERA_ID=dev_webcam
SITE_LOCATION=Development Office
SITE_NAME=Test Site
COMPANY_NAME=Your Company

# AWS Configuration (use LocalStack for local testing)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test
SQS_QUEUE_URL=http://localstack:4566/000000000000/violation-queue
S3_BUCKET_NAME=safety-violations

# Database
DB_CONNECTION_STRING=sqlite:///violations.db

# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here

# Email
EMAIL_ENABLED=true
EMAIL_SENDER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_RECIPIENTS=manager@company.com

# Detection Settings
FRAME_SKIP=15
CONFIDENCE_THRESHOLD=0.7


# ===================================================================
# SCENARIO 2: Single RTSP IP Camera - Production
# ===================================================================
# Best for: Single construction site with one IP camera
# ===================================================================

VIDEO_SOURCE=rtsp://admin:Password123@192.168.1.100:554/stream
CAMERA_ID=main_gate
SITE_LOCATION=Main Gate - Zone A
SITE_NAME=Construction Site Alpha
COMPANY_NAME=ABC Construction Co.

# AWS Configuration (Production)
AWS_REGION=us-east-1
# Use IAM roles instead of keys in production
# AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
# AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
SQS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789012/violation-report-queue
S3_BUCKET_NAME=abc-construction-safety-violations

# Database (RDS PostgreSQL)
DB_CONNECTION_STRING=postgresql://admin:password@your-rds-endpoint.rds.amazonaws.com:5432/safety_db

# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here

# Email
EMAIL_ENABLED=true
EMAIL_SENDER=safety@abcconstruction.com
EMAIL_PASSWORD=your-app-password
EMAIL_RECIPIENTS=site-manager@abcconstruction.com,safety-officer@abcconstruction.com
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587

# Email Mode (daily summary recommended for production)
EMAIL_REPORT_MODE=daily
DAILY_REPORT_TIME=18:00

# Detection Settings
FRAME_SKIP=30
CONFIDENCE_THRESHOLD=0.6


# ===================================================================
# SCENARIO 3: Video File for Testing
# ===================================================================
# Best for: Testing with recorded video footage
# ===================================================================

VIDEO_SOURCE=/videos/construction_footage.mp4
CAMERA_ID=test_video
SITE_LOCATION=Test - Recorded Footage
LOOP_VIDEO=true  # Restart video when it ends

# AWS (LocalStack for testing)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test
SQS_QUEUE_URL=http://localstack:4566/000000000000/violation-queue
S3_BUCKET_NAME=safety-violations

# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here

# Email (disabled for testing)
EMAIL_ENABLED=false

# Detection Settings (process all frames for testing)
FRAME_SKIP=1
CONFIDENCE_THRESHOLD=0.5


# ===================================================================
# SCENARIO 4: Multiple RTSP Cameras - Production
# ===================================================================
# Copy these to separate .env files or use docker-compose
# Example: .env.camera1, .env.camera2, .env.camera3
# ===================================================================

# === Camera 1 - Front Gate (.env.camera1) ===
VIDEO_SOURCE=rtsp://admin:Password123@192.168.1.100:554/stream
CAMERA_ID=front_gate
SITE_LOCATION=Front Gate - Zone A

# === Camera 2 - Loading Dock (.env.camera2) ===
VIDEO_SOURCE=rtsp://admin:Password123@192.168.1.101:554/stream
CAMERA_ID=loading_dock
SITE_LOCATION=Loading Dock - Zone B

# === Camera 3 - Scaffolding (.env.camera3) ===
VIDEO_SOURCE=rtsp://admin:Password123@192.168.1.102:554/stream
CAMERA_ID=scaffolding_area
SITE_LOCATION=Scaffolding Area - Zone C

# Shared settings for all cameras
AWS_REGION=us-east-1
SQS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789012/violation-report-queue
S3_BUCKET_NAME=safety-violations
SITE_NAME=Construction Site Alpha
COMPANY_NAME=ABC Construction Co.


# ===================================================================
# SCENARIO 5: HTTP/MJPEG Stream
# ===================================================================
# Best for: Network cameras with HTTP streaming
# ===================================================================

VIDEO_SOURCE=http://192.168.1.100:8080/video
CAMERA_ID=http_camera
SITE_LOCATION=Zone D - HTTP Camera

# AWS and other settings same as Scenario 2


# ===================================================================
# LangSmith Configuration (Optional - for AI monitoring)
# ===================================================================
LANGCHAIN_TRACING_V2=true
LANGCHAIN_API_KEY=ls__your-langsmith-key
LANGCHAIN_PROJECT=ai-safety-compliance-officer


# ===================================================================
# Advanced Settings
# ===================================================================

# Frame Processing
RESIZE_FRAME=true
RESIZE_WIDTH=640
RESIZE_HEIGHT=480
MAX_DETECTIONS=50
IOU_THRESHOLD=0.45

# Violation Reporting
VIOLATION_COOLDOWN=300  # Seconds between same violation reports

# Model Path
MODEL_PATH=models/best.onnx
